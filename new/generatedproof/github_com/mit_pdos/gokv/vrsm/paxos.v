(* autogenerated by goose proofgen; do not modify *)
Require Export New.proof.grove_prelude.
Require Export New.generatedproof.github_com.goose_lang.std.
Require Export New.generatedproof.github_com.mit_pdos.gokv.asyncfile.
Require Export New.generatedproof.github_com.mit_pdos.gokv.grove_ffi.
Require Export New.generatedproof.github_com.mit_pdos.gokv.reconnectclient.
Require Export New.generatedproof.github_com.mit_pdos.gokv.urpc.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.applyasfollowerargs_gk.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.applyasfollowerreply_gk.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.enternewepochargs_gk.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.enternewepochreply_gk.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.error_gk.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.paxosstate_gk.
Require Export New.generatedproof.log.
Require Export New.generatedproof.sync.
Require Export New.golang.theory.
Require Export New.code.github_com.mit_pdos.gokv.vrsm.paxos.

Set Default Proof Using "Type".

Module paxos.
Module singleClerk.
Section def.

Context `{!heapGS Σ}.
Context {sem : go.Semantics}.
Context {package_sem' : paxos.Assumptions}.

Local Set Default Proof Using "All".

#[global]Program Instance singleClerk_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (paxos.singleClerk.t) :=
  {|
    typed_pointsto_def l v dq :=
      (
      "cl" ∷ l.[(paxos.singleClerk.t), "cl"] ↦{dq} v.(paxos.singleClerk.cl') ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

#[global] Instance singleClerk_into_val_typed
   :
  IntoValTypedUnderlying (paxos.singleClerk.t) (paxos.singleClerkⁱᵐᵖˡ).
Proof. solve_into_val_typed_struct. Qed.
#[global] Instance singleClerk_access_load_cl l (v : (paxos.singleClerk.t)) dq :
  AccessStrict
    (l.[(paxos.singleClerk.t), "cl"] ↦{dq} (v.(paxos.singleClerk.cl')))
    (l.[(paxos.singleClerk.t), "cl"] ↦{dq} (v.(paxos.singleClerk.cl')))
    (l ↦{dq} v) (l ↦{dq} v)%I.
Proof. solve_pointsto_access_struct. Qed.

#[global] Instance singleClerk_access_store_cl l (v : (paxos.singleClerk.t)) cl' :
  AccessStrict
    (l.[(paxos.singleClerk.t), "cl"] ↦ (v.(paxos.singleClerk.cl')))
    (l.[(paxos.singleClerk.t), "cl"] ↦ cl')
    (l ↦ v) (l ↦ (v <|(paxos.singleClerk.cl') := cl'|>))%I.
Proof. solve_pointsto_access_struct. Qed.

End def.
End singleClerk.

Module Server.
Section def.

Context `{!heapGS Σ}.
Context {sem : go.Semantics}.
Context {package_sem' : paxos.Assumptions}.

Local Set Default Proof Using "All".

#[global]Program Instance Server_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (paxos.Server.t) :=
  {|
    typed_pointsto_def l v dq :=
      (
      "mu" ∷ l.[(paxos.Server.t), "mu"] ↦{dq} v.(paxos.Server.mu') ∗
      "ps" ∷ l.[(paxos.Server.t), "ps"] ↦{dq} v.(paxos.Server.ps') ∗
      "storage" ∷ l.[(paxos.Server.t), "storage"] ↦{dq} v.(paxos.Server.storage') ∗
      "clerks" ∷ l.[(paxos.Server.t), "clerks"] ↦{dq} v.(paxos.Server.clerks') ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

#[global] Instance Server_into_val_typed
   :
  IntoValTypedUnderlying (paxos.Server.t) (paxos.Serverⁱᵐᵖˡ).
Proof. solve_into_val_typed_struct. Qed.
#[global] Instance Server_access_load_mu l (v : (paxos.Server.t)) dq :
  AccessStrict
    (l.[(paxos.Server.t), "mu"] ↦{dq} (v.(paxos.Server.mu')))
    (l.[(paxos.Server.t), "mu"] ↦{dq} (v.(paxos.Server.mu')))
    (l ↦{dq} v) (l ↦{dq} v)%I.
Proof. solve_pointsto_access_struct. Qed.

#[global] Instance Server_access_store_mu l (v : (paxos.Server.t)) mu' :
  AccessStrict
    (l.[(paxos.Server.t), "mu"] ↦ (v.(paxos.Server.mu')))
    (l.[(paxos.Server.t), "mu"] ↦ mu')
    (l ↦ v) (l ↦ (v <|(paxos.Server.mu') := mu'|>))%I.
Proof. solve_pointsto_access_struct. Qed.
#[global] Instance Server_access_load_ps l (v : (paxos.Server.t)) dq :
  AccessStrict
    (l.[(paxos.Server.t), "ps"] ↦{dq} (v.(paxos.Server.ps')))
    (l.[(paxos.Server.t), "ps"] ↦{dq} (v.(paxos.Server.ps')))
    (l ↦{dq} v) (l ↦{dq} v)%I.
Proof. solve_pointsto_access_struct. Qed.

#[global] Instance Server_access_store_ps l (v : (paxos.Server.t)) ps' :
  AccessStrict
    (l.[(paxos.Server.t), "ps"] ↦ (v.(paxos.Server.ps')))
    (l.[(paxos.Server.t), "ps"] ↦ ps')
    (l ↦ v) (l ↦ (v <|(paxos.Server.ps') := ps'|>))%I.
Proof. solve_pointsto_access_struct. Qed.
#[global] Instance Server_access_load_storage l (v : (paxos.Server.t)) dq :
  AccessStrict
    (l.[(paxos.Server.t), "storage"] ↦{dq} (v.(paxos.Server.storage')))
    (l.[(paxos.Server.t), "storage"] ↦{dq} (v.(paxos.Server.storage')))
    (l ↦{dq} v) (l ↦{dq} v)%I.
Proof. solve_pointsto_access_struct. Qed.

#[global] Instance Server_access_store_storage l (v : (paxos.Server.t)) storage' :
  AccessStrict
    (l.[(paxos.Server.t), "storage"] ↦ (v.(paxos.Server.storage')))
    (l.[(paxos.Server.t), "storage"] ↦ storage')
    (l ↦ v) (l ↦ (v <|(paxos.Server.storage') := storage'|>))%I.
Proof. solve_pointsto_access_struct. Qed.
#[global] Instance Server_access_load_clerks l (v : (paxos.Server.t)) dq :
  AccessStrict
    (l.[(paxos.Server.t), "clerks"] ↦{dq} (v.(paxos.Server.clerks')))
    (l.[(paxos.Server.t), "clerks"] ↦{dq} (v.(paxos.Server.clerks')))
    (l ↦{dq} v) (l ↦{dq} v)%I.
Proof. solve_pointsto_access_struct. Qed.

#[global] Instance Server_access_store_clerks l (v : (paxos.Server.t)) clerks' :
  AccessStrict
    (l.[(paxos.Server.t), "clerks"] ↦ (v.(paxos.Server.clerks')))
    (l.[(paxos.Server.t), "clerks"] ↦ clerks')
    (l ↦ v) (l ↦ (v <|(paxos.Server.clerks') := clerks'|>))%I.
Proof. solve_pointsto_access_struct. Qed.

End def.
End Server.

End paxos.
