(* autogenerated by goose proofgen; do not modify *)
Require Export New.proof.proof_prelude.
Require Export New.manualproof.sync.
Require Export New.golang.theory.

Require Export New.code.sync.

Set Default Proof Using "Type".

Module sync.
Module Cond.
Section def.
Context `{hG: heapGS Σ, !ffi_semantics _ _}.
(* FIXME: bundling *)
Context {core_sem : go.CoreSemantics} {pre_sem : go.PredeclaredSemantics}
  {array_sem : go.ArraySemantics} {slice_sem : go.SliceSemantics}.

Context {package_sem' : sync.Assumptions}.
Local Set Default Proof Using "All".

#[global] Program Instance Cond_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (sync.Cond.t) :=
  {|
    typed_pointsto_def l dq v :=
      (
      "noCopy" ∷ l.[(sync.Cond.t), "noCopy"] ↦{dq} v.(sync.Cond.noCopy) ∗
      "L" ∷ l.[(sync.Cond.t), "L"] ↦{dq} v.(sync.Cond.L) ∗
      "notify" ∷ l.[(sync.Cond.t), "notify"] ↦{dq} v.(sync.Cond.notify) ∗
      "checker" ∷ l.[(sync.Cond.t), "checker"] ↦{dq} v.(sync.Cond.checker) ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

End def.
End Cond.

Module noCopy.
Section def.
Context `{hG: heapGS Σ, !ffi_semantics _ _}.
(* FIXME: bundling *)
Context {core_sem : go.CoreSemantics} {pre_sem : go.PredeclaredSemantics}
  {array_sem : go.ArraySemantics} {slice_sem : go.SliceSemantics}.

Context {package_sem' : sync.Assumptions}.
Local Set Default Proof Using "All".

#[global] Program Instance noCopy_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (sync.noCopy.t) :=
  {|
    typed_pointsto_def l dq v :=
      (
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

End def.
End noCopy.

Module Once.
Section def.
Context `{hG: heapGS Σ, !ffi_semantics _ _}.
(* FIXME: bundling *)
Context {core_sem : go.CoreSemantics} {pre_sem : go.PredeclaredSemantics}
  {array_sem : go.ArraySemantics} {slice_sem : go.SliceSemantics}.

Context {package_sem' : sync.Assumptions}.
Local Set Default Proof Using "All".

#[global] Program Instance Once_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (sync.Once.t) :=
  {|
    typed_pointsto_def l dq v :=
      (
      "_0" ∷ l.[(sync.Once.t), "_0"] ↦{dq} v.(sync.Once._0) ∗
      "done" ∷ l.[(sync.Once.t), "done"] ↦{dq} v.(sync.Once.done) ∗
      "m" ∷ l.[(sync.Once.t), "m"] ↦{dq} v.(sync.Once.m) ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

End def.
End Once.

Module RWMutex.
Section def.
Context `{hG: heapGS Σ, !ffi_semantics _ _}.
(* FIXME: bundling *)
Context {core_sem : go.CoreSemantics} {pre_sem : go.PredeclaredSemantics}
  {array_sem : go.ArraySemantics} {slice_sem : go.SliceSemantics}.

Context {package_sem' : sync.Assumptions}.
Local Set Default Proof Using "All".

#[global] Program Instance RWMutex_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (sync.RWMutex.t) :=
  {|
    typed_pointsto_def l dq v :=
      (
      "w" ∷ l.[(sync.RWMutex.t), "w"] ↦{dq} v.(sync.RWMutex.w) ∗
      "writerSem" ∷ l.[(sync.RWMutex.t), "writerSem"] ↦{dq} v.(sync.RWMutex.writerSem) ∗
      "readerSem" ∷ l.[(sync.RWMutex.t), "readerSem"] ↦{dq} v.(sync.RWMutex.readerSem) ∗
      "readerCount" ∷ l.[(sync.RWMutex.t), "readerCount"] ↦{dq} v.(sync.RWMutex.readerCount) ∗
      "readerWait" ∷ l.[(sync.RWMutex.t), "readerWait"] ↦{dq} v.(sync.RWMutex.readerWait) ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

End def.
End RWMutex.

Module WaitGroup.
Section def.
Context `{hG: heapGS Σ, !ffi_semantics _ _}.
(* FIXME: bundling *)
Context {core_sem : go.CoreSemantics} {pre_sem : go.PredeclaredSemantics}
  {array_sem : go.ArraySemantics} {slice_sem : go.SliceSemantics}.

Context {package_sem' : sync.Assumptions}.
Local Set Default Proof Using "All".

#[global] Program Instance WaitGroup_typed_pointsto  :
  TypedPointsto (Σ:=Σ) (sync.WaitGroup.t) :=
  {|
    typed_pointsto_def l dq v :=
      (
      "noCopy" ∷ l.[(sync.WaitGroup.t), "noCopy"] ↦{dq} v.(sync.WaitGroup.noCopy) ∗
      "state" ∷ l.[(sync.WaitGroup.t), "state"] ↦{dq} v.(sync.WaitGroup.state) ∗
      "sema" ∷ l.[(sync.WaitGroup.t), "sema"] ↦{dq} v.(sync.WaitGroup.sema) ∗
      "_" ∷ True
      )%I
  |}.
Final Obligation. solve_typed_pointsto_agree. Qed.

End def.
End WaitGroup.

End sync.
