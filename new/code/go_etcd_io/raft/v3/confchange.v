(* autogenerated from go.etcd.io/raft/v3/confchange *)
Require Export New.code.go_etcd_io.raft.v3.tracker.
From New.golang Require Import defn.
Module pkg_id.
Definition confchange : go_string := "go.etcd.io/raft/v3/confchange".

End pkg_id.
Export pkg_id.
Module confchange.

Definition Changer {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.Named "go.etcd.io/raft/v3/confchange.Changer"%go [].

#[global] Opaque Changer.

Definition checkInvariants {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.checkInvariants"%go.

Definition checkAndReturn {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.checkAndReturn"%go.

Definition nilAwareAdd {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.nilAwareAdd"%go.

Definition nilAwareDelete {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.nilAwareDelete"%go.

Definition symdiff {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.symdiff"%go.

Definition joint {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.joint"%go.

Definition incoming {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.incoming"%go.

Definition outgoing {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.outgoing"%go.

Definition outgoingPtr {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.outgoingPtr"%go.

Definition Describe {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.Describe"%go.

Definition toConfChangeSingle {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.toConfChangeSingle"%go.

Definition chain {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.chain"%go.

Definition Restore {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/raft/v3/confchange.Restore"%go.

#[global] Instance info' : PkgInfo pkg_id.confchange :=
{|
  pkg_imported_pkgs := [code.go_etcd_io.raft.v3.tracker.pkg_id.tracker]
|}.

Axiom _'init : ∀ {ext : ffi_syntax} {go_gctx : GoGlobalContext}, val.

Definition initialize' {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val :=
  λ: <>,
    package.init pkg_id.confchange (λ: <>,
      exception_do (do:  (tracker.initialize' #()))
      ).

Module Changer.
Section def.
Context {ext : ffi_syntax} {go_gctx : GoGlobalContext}.
Record t :=
mk {
  Tracker' : tracker.ProgressTracker.t;
  LastIndex' : w64;
}.

#[global] Instance zero_val : ZeroVal t := {| zero_val := mk (zero_val _) (zero_val _)|}.
#[global] Arguments mk : clear implicits.
#[global] Arguments t : clear implicits.
End def.

End Changer.

Definition Changer'fds_unsealed {ext : ffi_syntax} {go_gctx : GoGlobalContext} : list go.field_decl := [
  (go.FieldDecl "Tracker"%go tracker.ProgressTracker);
  (go.FieldDecl "LastIndex"%go go.uint64)
].
Program Definition Changer'fds {ext : ffi_syntax} {go_gctx : GoGlobalContext} := sealed (Changer'fds_unsealed).
Global Instance equals_unfold_Changer {ext : ffi_syntax} {go_gctx : GoGlobalContext} : Changer'fds =→ Changer'fds_unsealed.
Proof. rewrite /Changer'fds seal_eq //. Qed.

Definition Changerⁱᵐᵖˡ {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.StructType (Changer'fds).

Class Changer_Assumptions {ext : ffi_syntax} `{!GoGlobalContext} `{!GoLocalContext} `{!GoSemanticsFunctions} : Prop :=
{
  #[global] Changer_type_repr  :: go.TypeReprUnderlying Changerⁱᵐᵖˡ Changer.t;
  #[global] Changer_underlying :: (Changer) <u (Changerⁱᵐᵖˡ);
  #[global] Changer_get_Tracker (x : Changer.t) :: ⟦StructFieldGet (Changerⁱᵐᵖˡ) "Tracker", #x⟧ ⤳[under] #x.(Changer.Tracker');
  #[global] Changer_set_Tracker (x : Changer.t) y :: ⟦StructFieldSet (Changerⁱᵐᵖˡ) "Tracker", (#x, #y)⟧ ⤳[under] #(x <|Changer.Tracker' := y|>);
  #[global] Changer_get_LastIndex (x : Changer.t) :: ⟦StructFieldGet (Changerⁱᵐᵖˡ) "LastIndex", #x⟧ ⤳[under] #x.(Changer.LastIndex');
  #[global] Changer_set_LastIndex (x : Changer.t) y :: ⟦StructFieldSet (Changerⁱᵐᵖˡ) "LastIndex", (#x, #y)⟧ ⤳[under] #(x <|Changer.LastIndex' := y|>);
}.

Class Assumptions {ext : ffi_syntax} `{!GoGlobalContext} `{!GoLocalContext} `{!GoSemanticsFunctions} : Prop :=
{
  #[global] Changer_instance :: Changer_Assumptions;
  #[global] import_tracker_Assumption :: tracker.Assumptions;
}.
End confchange.
