(* autogenerated from go.etcd.io/etcd/server/v3/etcdserver/errors *)
Require Export New.code.errors.
Require Export New.code.fmt.
From New.golang Require Import defn.
Module pkg_id.
Definition errors : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors".

End pkg_id.
Export pkg_id.
Module errors.

Definition DiscoveryError {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.Named "go.etcd.io/etcd/server/v3/etcdserver/errors.DiscoveryError"%go [].

Definition ErrUnknownMethod {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrUnknownMethod"%go.

Definition ErrStopped {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrStopped"%go.

Definition ErrCanceled {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrCanceled"%go.

Definition ErrTimeout {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTimeout"%go.

Definition ErrTimeoutDueToLeaderFail {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTimeoutDueToLeaderFail"%go.

Definition ErrTimeoutDueToConnectionLost {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTimeoutDueToConnectionLost"%go.

Definition ErrTimeoutLeaderTransfer {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTimeoutLeaderTransfer"%go.

Definition ErrTimeoutWaitAppliedIndex {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTimeoutWaitAppliedIndex"%go.

Definition ErrLeaderChanged {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrLeaderChanged"%go.

Definition ErrNotEnoughStartedMembers {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrNotEnoughStartedMembers"%go.

Definition ErrLearnerNotReady {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrLearnerNotReady"%go.

Definition ErrNoLeader {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrNoLeader"%go.

Definition ErrNotLeader {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrNotLeader"%go.

Definition ErrRequestTooLarge {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrRequestTooLarge"%go.

Definition ErrNoSpace {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrNoSpace"%go.

Definition ErrTooManyRequests {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrTooManyRequests"%go.

Definition ErrUnhealthy {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrUnhealthy"%go.

Definition ErrCorrupt {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrCorrupt"%go.

Definition ErrBadLeaderTransferee {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrBadLeaderTransferee"%go.

Definition ErrClusterVersionUnavailable {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrClusterVersionUnavailable"%go.

Definition ErrWrongDowngradeVersionFormat {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrWrongDowngradeVersionFormat"%go.

Definition ErrKeyNotFound {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go_string := "go.etcd.io/etcd/server/v3/etcdserver/errors.ErrKeyNotFound"%go.

(* go: errors.go:52:25 *)
Definition DiscoveryError__Errorⁱᵐᵖˡ {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val :=
  λ: "e" <>,
    exception_do (let: "e" := (GoAlloc DiscoveryError "e") in
    return: (let: "$a0" := #"failed to %s discovery cluster (%v)"%go in
     let: "$a1" := ((let: "$sl0" := (Convert go.string go.any (![go.string] (StructFieldRef DiscoveryError "Op"%go "e"))) in
     let: "$sl1" := (Convert go.error go.any (![go.error] (StructFieldRef DiscoveryError "Err"%go "e"))) in
     CompositeLiteral (go.SliceType go.any) (LiteralValue [KeyedElement None (ElementExpression go.any "$sl0"); KeyedElement None (ElementExpression go.any "$sl1")]))) in
     (FuncResolve fmt.Sprintf [] #()) "$a0" "$a1")).

#[global] Instance info' : PkgInfo pkg_id.errors :=
{|
  pkg_imported_pkgs := [code.errors.pkg_id.errors; code.fmt.pkg_id.fmt]
|}.

Definition initialize' {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val :=
  λ: <>,
    package.init pkg_id.errors (λ: <>,
      exception_do (do:  (go.GlobalAlloc ErrKeyNotFound go.error #());;;
      do:  (go.GlobalAlloc ErrWrongDowngradeVersionFormat go.error #());;;
      do:  (go.GlobalAlloc ErrClusterVersionUnavailable go.error #());;;
      do:  (go.GlobalAlloc ErrBadLeaderTransferee go.error #());;;
      do:  (go.GlobalAlloc ErrCorrupt go.error #());;;
      do:  (go.GlobalAlloc ErrUnhealthy go.error #());;;
      do:  (go.GlobalAlloc ErrTooManyRequests go.error #());;;
      do:  (go.GlobalAlloc ErrNoSpace go.error #());;;
      do:  (go.GlobalAlloc ErrRequestTooLarge go.error #());;;
      do:  (go.GlobalAlloc ErrNotLeader go.error #());;;
      do:  (go.GlobalAlloc ErrNoLeader go.error #());;;
      do:  (go.GlobalAlloc ErrLearnerNotReady go.error #());;;
      do:  (go.GlobalAlloc ErrNotEnoughStartedMembers go.error #());;;
      do:  (go.GlobalAlloc ErrLeaderChanged go.error #());;;
      do:  (go.GlobalAlloc ErrTimeoutWaitAppliedIndex go.error #());;;
      do:  (go.GlobalAlloc ErrTimeoutLeaderTransfer go.error #());;;
      do:  (go.GlobalAlloc ErrTimeoutDueToConnectionLost go.error #());;;
      do:  (go.GlobalAlloc ErrTimeoutDueToLeaderFail go.error #());;;
      do:  (go.GlobalAlloc ErrTimeout go.error #());;;
      do:  (go.GlobalAlloc ErrCanceled go.error #());;;
      do:  (go.GlobalAlloc ErrStopped go.error #());;;
      do:  (go.GlobalAlloc ErrUnknownMethod go.error #());;;
      do:  (fmt.initialize' #());;;
      do:  (errors.initialize' #());;;
      let: "$r0" := (let: "$a0" := #"etcdserver: unknown method"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrUnknownMethod #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: server stopped"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrStopped #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request cancelled"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrCanceled #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request timed out"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTimeout #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request timed out, possibly due to previous leader failure"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTimeoutDueToLeaderFail #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request timed out, possibly due to connection lost"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTimeoutDueToConnectionLost #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request timed out, leader transfer took too long"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTimeoutLeaderTransfer #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request timed out, waiting for the applied index took too long"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTimeoutWaitAppliedIndex #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: leader changed"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrLeaderChanged #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: re-configuration failed due to not enough started members"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrNotEnoughStartedMembers #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: can only promote a learner member which is in sync with leader"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrLearnerNotReady #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: no leader"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrNoLeader #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: not leader"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrNotLeader #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: request is too large"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrRequestTooLarge #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: no space"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrNoSpace #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: too many requests"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrTooManyRequests #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: unhealthy cluster"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrUnhealthy #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: corrupt cluster"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrCorrupt #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: bad leader transferee"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrBadLeaderTransferee #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: cluster version not found during downgrade"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrClusterVersionUnavailable #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: wrong downgrade target version format"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrWrongDowngradeVersionFormat #()) <-[go.error] "$r0");;;
      let: "$r0" := (let: "$a0" := #"etcdserver: key not found"%go in
      (FuncResolve errors.New [] #()) "$a0") in
      do:  ((GlobalVarAddr ErrKeyNotFound #()) <-[go.error] "$r0"))
      ).

Module DiscoveryError.
Section def.
Context {ext : ffi_syntax} {go_gctx : GoGlobalContext}.
Record t :=
mk {
  Op' : go_string;
  Err' : error.t;
}.

#[global] Instance zero_val : ZeroVal t := {| zero_val := mk (zero_val _) (zero_val _)|}.
#[global] Arguments mk : clear implicits.
#[global] Arguments t : clear implicits.
End def.

End DiscoveryError.

Definition DiscoveryError'fds_unsealed {ext : ffi_syntax} {go_gctx : GoGlobalContext} : list go.field_decl := [
  (go.FieldDecl "Op"%go go.string);
  (go.FieldDecl "Err"%go go.error)
].
Program Definition DiscoveryError'fds {ext : ffi_syntax} {go_gctx : GoGlobalContext} := sealed (DiscoveryError'fds_unsealed).
Global Instance equals_unfold_DiscoveryError {ext : ffi_syntax} {go_gctx : GoGlobalContext} : DiscoveryError'fds =→ DiscoveryError'fds_unsealed.
Proof. rewrite /DiscoveryError'fds seal_eq //. Qed.

Definition DiscoveryErrorⁱᵐᵖˡ {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.StructType (DiscoveryError'fds).

Class DiscoveryError_Assumptions {ext : ffi_syntax} `{!GoGlobalContext} `{!GoLocalContext} `{!GoSemanticsFunctions} : Prop :=
{
  #[global] DiscoveryError_type_repr  :: go.TypeReprUnderlying DiscoveryErrorⁱᵐᵖˡ DiscoveryError.t;
  #[global] DiscoveryError_underlying :: (DiscoveryError) <u (DiscoveryErrorⁱᵐᵖˡ);
  #[global] DiscoveryError_get_Op (x : DiscoveryError.t) :: ⟦StructFieldGet (DiscoveryErrorⁱᵐᵖˡ) "Op", #x⟧ ⤳[under] #x.(DiscoveryError.Op');
  #[global] DiscoveryError_set_Op (x : DiscoveryError.t) y :: ⟦StructFieldSet (DiscoveryErrorⁱᵐᵖˡ) "Op", (#x, #y)⟧ ⤳[under] #(x <|DiscoveryError.Op' := y|>);
  #[global] DiscoveryError_get_Err (x : DiscoveryError.t) :: ⟦StructFieldGet (DiscoveryErrorⁱᵐᵖˡ) "Err", #x⟧ ⤳[under] #x.(DiscoveryError.Err');
  #[global] DiscoveryError_set_Err (x : DiscoveryError.t) y :: ⟦StructFieldSet (DiscoveryErrorⁱᵐᵖˡ) "Err", (#x, #y)⟧ ⤳[under] #(x <|DiscoveryError.Err' := y|>);
  #[global] DiscoveryError_Error_unfold :: MethodUnfold (DiscoveryError) "Error" (DiscoveryError__Errorⁱᵐᵖˡ);
  #[global] DiscoveryError'ptr_Error_unfold :: MethodUnfold (go.PointerType (DiscoveryError)) "Error" (λ: "$r", MethodResolve (DiscoveryError) "Error" (![(DiscoveryError)] "$r"));
}.

Class Assumptions {ext : ffi_syntax} `{!GoGlobalContext} `{!GoLocalContext} `{!GoSemanticsFunctions} : Prop :=
{
  #[global] DiscoveryError_instance :: DiscoveryError_Assumptions;
  #[global] import_errors_Assumption :: errors.Assumptions;
  #[global] import_fmt_Assumption :: fmt.Assumptions;
}.
End errors.
