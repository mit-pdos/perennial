(* autogenerated from github.com/mit-pdos/go-journal/common *)
Require Export New.code.github_com.goose_lang.primitive.disk.
From New.golang Require Import defn.
From New Require Import disk_prelude.
Module pkg_id.
Definition common : go_string := "github.com/mit-pdos/go-journal/common".

End pkg_id.
Export pkg_id.
Module common.

Definition Inum {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.uint64.

Definition Bnum {ext : ffi_syntax} {go_gctx : GoGlobalContext} : go.type := go.uint64.

(* on-disk size *)
Definition INODESZ {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 128).

Definition NBITBLOCK {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 32768).

Definition INODEBLK {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 32).

Definition NINODEBITMAP {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 1).

(* space for the end position *)
Definition HDRMETA {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 8).

Definition HDRADDRS {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 511).

(* 2 for log header *)
Definition LOGSIZE {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 513).

Definition NULLINUM {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 0).

Definition ROOTINUM {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 1).

Definition NULLBNUM {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val := #(W64 0).

#[global] Instance info' : PkgInfo pkg_id.common :=
{|
  pkg_imported_pkgs := [code.github_com.goose_lang.primitive.disk.pkg_id.disk]
|}.

Definition initialize' {ext : ffi_syntax} {go_gctx : GoGlobalContext} : val :=
  λ: <>,
    package.init pkg_id.common (λ: <>,
      exception_do (do:  (disk.initialize' #()))
      ).

Class Assumptions `{!GoGlobalContext} `{!GoLocalContext} `{!GoSemanticsFunctions} : Prop :=
{
  #[global] import_disk_Assumption :: disk.Assumptions;
}.
End common.
