(* autogenerated from github.com/sanjit-bhat/pav/cryptoutil *)
Require Export New.code.github_com.sanjit_bhat.pav.cryptoffi.

From New.golang Require Import defn.
Definition cryptoutil : go_string := "github.com/sanjit-bhat/pav/cryptoutil".

Module cryptoutil.

Section code.
Context `{ffi_syntax}.


Definition Hash : go_string := "github.com/sanjit-bhat/pav/cryptoutil.Hash"%go.

(* go: cryptoutil.go:7:6 *)
Definition Hashⁱᵐᵖˡ : val :=
  λ: "b",
    exception_do (let: "hash" := (GoAlloc (go.SliceType go.byte) #()) in
    let: "b" := (go.AllocValue (go.SliceType go.byte) "b") in
    let: "hr" := (GoAlloc (go.PointerType cryptoffi.Hasher) #()) in
    let: "$r0" := ((FuncResolve cryptoffi.NewHasher [] #()) #()) in
    do:  ("hr" <-[go.PointerType cryptoffi.Hasher] "$r0");;;
    do:  (let: "$a0" := (![go.SliceType go.byte] "b") in
    (MethodResolve (go.PointerType cryptoffi.Hasher) Write #() (![go.PointerType cryptoffi.Hasher] "hr")) "$a0");;;
    return: (let: "$a0" := #slice.nil in
     (MethodResolve (go.PointerType cryptoffi.Hasher) Sum #() (![go.PointerType cryptoffi.Hasher] "hr")) "$a0")).

Definition functions' : list (go_string * val) := [(Hash, Hashⁱᵐᵖˡ)].

#[global] Instance info' : PkgInfo cryptoutil.cryptoutil :=
  {|
    pkg_imported_pkgs := [code.github_com.sanjit_bhat.pav.cryptoffi.cryptoffi];
  |}.

Definition initialize' : val :=
  λ: <>,
    package.init cryptoutil.cryptoutil (λ: <>,
      exception_do (do:  (cryptoffi.initialize' #()))
      ).

End code.
End cryptoutil.
